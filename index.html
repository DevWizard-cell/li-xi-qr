<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L√¨ X√¨ May M·∫Øn</title>

<style>
body{
    margin:0;
    padding:0;
    background:linear-gradient(135deg,#a80000,#ff1a1a);
    height:100vh;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-family:Arial;
    color:white;
    text-align:center;
}

.container{
    perspective:1000px;
}

.envelope{
    width:240px;
    cursor:pointer;
    position:relative;
    transform-style:preserve-3d;
    transition:transform 1s;
}

.flap{
    position:absolute;
    width:100%;
    height:100%;
    top:0;
    left:0;
    transform-origin:top;
    transition:transform 1s;
}

.open .flap{
    transform:rotateX(-160deg);
}

.instruction{
    margin-top:20px;
    font-weight:bold;
}

.wish-box{
    margin-top:30px;
    padding:20px;
    max-width:320px;
    background:rgba(255,255,255,0.2);
    border-radius:15px;
    display:none;
}

.money{
    position:absolute;
    top:-50px;
    font-size:24px;
    animation:fall linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(360deg);
        opacity:0;
    }
}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
}
</style>
</head>
<body>

<canvas id="firework"></canvas>

<div class="container">
    <div id="envelope" class="envelope">
        <img id="imgFront" src="" width="240">
        <div class="flap">
            <img id="imgBack" src="" width="240">
        </div>
    </div>
</div>

<div class="instruction">üßß Nh·∫•n v√†o l√¨ x√¨ ƒë·ªÉ m·ªü</div>
<div id="wishBox" class="wish-box"></div>

<audio id="tingSound" src="sound/bell ring.mp3"></audio>

<script>

// =============================
// CH·ªêNG NH·∫¨N NHI·ªÄU L·∫¶N
// =============================
if(localStorage.getItem("received")){
    document.body.innerHTML = "<h2>B·∫°n ƒë√£ nh·∫≠n l√¨ x√¨ r·ªìi üéâ</h2>";
}

// =============================
// DANH S√ÅCH ·∫¢NH
// =============================
const images = [
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 1 ƒê·ªè Nay.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 2 Cam H·ªìng Nay Nay.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 3 Xanh Bi·ªÉn ƒê·∫≠m.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 4 ƒê·ªè X∆∞a.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 5 V√†ng.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 6 ƒêen.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 7 Tr·∫Øng.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 8 H·ªìng.pdf",
    "images/Phong Bao L√¨ X√¨ ·∫¢nh 9 T√≠m.pdf"
];

// =============================
// DANH S√ÅCH L·ªúI CH√öC (TH√äM T·∫†I ƒê√ÇY)
// =============================
const wishes = [
"Ch√∫c b·∫°n m·ªôt nƒÉm b√πng n·ªï th√†nh c√¥ng!",
"Ch√∫c b·∫°n ti·ªÅn v√¥ √†o √†o nh∆∞ th√°c l≈©!",
"Ch√∫c b·∫°n thi ƒë√¢u ƒë·∫≠u ƒë√≥!",
"Ch√∫c b·∫°n y√™u ƒë·ªùi, y√™u ng∆∞·ªùi, y√™u b·∫£n th√¢n!",
"Ch√∫c b·∫°n h·∫°nh ph√∫c m·ªói ng√†y!",
"Ch√∫c b·∫°n ƒë·∫°t ƒë∆∞·ª£c ∆∞·ªõc m∆° l·ªõn nh·∫•t!",
"Ch√∫c b·∫°n nƒÉm m·ªõi nhi·ªÅu c∆° h·ªôi!",
"Ch√∫c b·∫°n may m·∫Øn nh√¢n ƒë√¥i!",
"Ch√∫c b·∫°n lu√¥n t·ªèa s√°ng!"
];

// Random ·∫£nh
const randomImage = images[Math.floor(Math.random()*images.length)];
document.getElementById("imgFront").src = randomImage;
document.getElementById("imgBack").src = randomImage;

// =============================
// M·ªû L√å X√å
// =============================
document.getElementById("envelope").addEventListener("click", function(){

    this.classList.add("open");

    document.getElementById("tingSound").play();

    const randomWish = wishes[Math.floor(Math.random()*wishes.length)];
    const wishBox = document.getElementById("wishBox");
    wishBox.style.display = "block";
    wishBox.innerHTML = randomWish;

    rainMoney();
    launchFireworks();

    localStorage.setItem("received","yes");
});

// =============================
// TI·ªÄN R∆†I
// =============================
function rainMoney(){
    for(let i=0;i<30;i++){
        let money=document.createElement("div");
        money.className="money";
        money.innerHTML="üí∞";
        money.style.left=Math.random()*100+"vw";
        money.style.animationDuration=(Math.random()*2+2)+"s";
        document.body.appendChild(money);
        setTimeout(()=>money.remove(),4000);
    }
}

// =============================
// PH√ÅO HOA
// =============================
const canvas=document.getElementById("firework");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

function launchFireworks(){
    for(let i=0;i<100;i++){
        ctx.fillStyle="hsl("+Math.random()*360+",100%,50%)";
        ctx.beginPath();
        ctx.arc(
            Math.random()*canvas.width,
            Math.random()*canvas.height,
            3,0,Math.PI*2
        );
        ctx.fill();
    }
    setTimeout(()=>ctx.clearRect(0,0,canvas.width,canvas.height),800);
}

</script>

</body>
</html>
